# This file is part of Danil <danil@kutkevich.org> home.
# xchainkeys configuration file <http://vlevit.org/ru/blog/tech/xchainkeys>.

# Chain options.
timeout 0 # 3000 # timeout chain after 3 seconds of inactivity

# Feedback options.
feedback on # enable feedback
delay 0 # 1000 # display current key combination after 1000 = 1 second of inactivity or 0 = instant
hold 2000 # display error messages for 1000 = 1 second
position 12 # feedback window
font -*-*-*-*-*-*-20-*-*-*-*-*-*-* # use the font "fixed" for the popup window
foreground Gray # text and border
background Red3 # OrangeRed1

# Xchainkeys keybindings.
C-t :enter # prefix key combination
C-t C-t :escape
C-t C-g :abort
C-t r :reload

# Common keybindings.
C-t c :exec alacritty # alacritty # wezterm # st # terminal emulator
C-t u c :exec wezterm # alacritty # wezterm # st # terminal emulator
C-t g :exec dunstctl close-all
C-t S-1 :exec ~/bin/dmenu --command="/home/danil/.local/usr/local/bin/dmenu" --lines=29 --history="dmenu_history"
C-t u S-1 :exec xfce4-appfinder

# Invert colors on xorg/xrandr
C-t i :exec xcalib -i -a

# Lock or lock and sleep/suspend or dim screen backlight
# <https://askubuntu.com/questions/1233858/xubuntu-20-04-suspend-waits-30-seconds>.
C-t l :exec sleep 0.1 && xset dpms force off
C-t u l :exec xflock4
C-t u u l :exec xfce4-session-logout --suspend && xfce4-screensaver

# Sleep/suspend or dim screen backlight.
C-t s :exec sleep 0.1 && xfce4-screensaver-command --activate
C-t u s :exec sleep 0.1 && xset dpms force off
C-t u u s :exec xfce4-session-logout --suspend

# Find cursor a-la "shake to find Cursor" <https://github.com/arp242/find-cursor>
C-t m :exec find-cursor --color=#ff0000 --size=700 --line-width=10 --distance=70

# Screen shots.
C-t p p :exec maim ~/Pictures/Screenshots/screenshot-$(date +%Y%m%d%H%M%S).png # xfce4-screenshooter # shutter -s # import ~/tmp/screenshot.png # screenshot
C-t p s :exec maim --select ~/Pictures/Screenshots/screenshot-$(date +%Y%m%d%H%M%S).png # xfce4-screenshooter # shutter -s # import ~/tmp/screenshot.png # screenshot

# Sound volume (alsa)
# <http://wiki.gentoo.org/wiki/Xfce#Keyboard_shortcuts>,
# <https://wiki.archlinux.org/index.php/Xbindkeys#Xbindkeysrc>.
C-t v j :group "volume" audio-lower-volume # && osd-sound-volume
C-t v k :group "volume" audio-raise-volume # && osd-sound-volume
C-t v m :group "volume" amixer sset Master mute # && osd-sound-volume
C-t v u m :group "volume" amixer sset Master unmute # && osd-sound-volume
# XF86AudioLowerVolume :exec audio-lower-volume && osd-sound-volume
# XF86AudioMute :exec audio-mute && osd-sound-volume
# XF86AudioRaiseVolume :exec audio-raise-volume && osd-sound-volume

# Screen backlight (xbacklight)
# <https://wiki.archlinux.org/index.php/backlight#xbacklight>.
C-t b j :group "backlight" screen-backlight-down && osd-screen-backlight
C-t b k :group "backlight" screen-backlight-up && osd-screen-backlight
# XF86MonBrightnessDown :exec screen-backlight-down && osd-screen-backlight
# XF86MonBrightnessUp :exec screen-backlight-up && osd-screen-backlight

# A-la compiz scale/gnome overview/osx expose.
C-t w w w :exec skippy-xd # skippy-xd --activate-window-picker

# Window manager.
C-t w c :exec xdotool windowkill `xdotool getactivewindow` # wmctrl -c :ACTIVE:
C-t w m :exec wmctrl -ir $(xdotool getactivewindow) -b add,maximized_vert,maximized_horz
C-t u w m :exec wmctrl -ir $(xdotool getactivewindow) -b remove,maximized_vert,maximized_horz

# Show desktop
# <http://ubuntuforums.org/showthread.php?t=1615199#td_post_10083165>.
C-t w d :exec showdesktop

# XFCE workspaces.
C-t 1 :exec xdotool set_desktop 0 # wmctrl -s 0
C-t 2 :exec xdotool set_desktop 1 # wmctrl -s 1
C-t 3 :exec xdotool set_desktop 2 # wmctrl -s 2
C-t 4 :exec xdotool set_desktop 3 # wmctrl -s 3
C-t 5 :exec xdotool set_desktop 4 # wmctrl -s 4
C-t 6 :exec xdotool set_desktop 5 # wmctrl -s 5
C-t 7 :exec xdotool set_desktop 6 # wmctrl -s 6
C-t 8 :exec xdotool set_desktop 7 # wmctrl -s 7
C-t 9 :exec xdotool set_desktop 8 # wmctrl -s 8

C-t w 1 :exec xdotool getactivewindow set_desktop_for_window 0 # wmctrl -r :ACTIVE: -t 0
C-t w 2 :exec xdotool getactivewindow set_desktop_for_window 1 # wmctrl -r :ACTIVE: -t 1
C-t w 3 :exec xdotool getactivewindow set_desktop_for_window 2 # wmctrl -r :ACTIVE: -t 2
C-t w 4 :exec xdotool getactivewindow set_desktop_for_window 3 # wmctrl -r :ACTIVE: -t 3
C-t w 5 :exec xdotool getactivewindow set_desktop_for_window 4 # wmctrl -r :ACTIVE: -t 4
C-t w 6 :exec xdotool getactivewindow set_desktop_for_window 5 # wmctrl -r :ACTIVE: -t 5
C-t w 7 :exec xdotool getactivewindow set_desktop_for_window 6 # wmctrl -r :ACTIVE: -t 6
C-t w 8 :exec xdotool getactivewindow set_desktop_for_window 7 # wmctrl -r :ACTIVE: -t 7
C-t w 9 :exec xdotool getactivewindow set_desktop_for_window 8 # wmctrl -r :ACTIVE: -t 8
