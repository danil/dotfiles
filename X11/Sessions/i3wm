#!/bin/sh
# This file is part of Danil <danil@kutkevich.org> home.

# Desktop Application Autostart Specification <http://standards.freedesktop.org/autostart-spec/autostart-spec-latest.html>,
# <http://awesome.naquadah.org/wiki/Autostart#Freedesktop_autostart_way>,
# <https://wiki.archlinux.org/index.php/Awesome#Autorun_programs>,
# <https://github.com/jceb/dex>.
dex ~/.config/autostart/stardict.desktop \
    ~/.config/autostart/dropbox.desktop \
    /etc/xdg/autostart/wicd-tray.desktop \
    /etc/xdg/autostart/xfce4-power-manager.desktop \
    /etc/xdg/autostart/xfce4-volumed.desktop \
    /etc/xdg/autostart/xfsettingsd.desktop \
    /etc/xdg/autostart/Gentoo-print-applet.desktop

xchainkeys -f ~/.config/xchainkeys/h6-gentoo-i3.conf &

# Power management, screensaver and lock screen
# <https://wiki.archlinux.org/index.php/i3#Screensaver_and_power_management>.
xset dpms 420 #suspend monitor after 7 minutes
xautolock -time 10 -locker 'i3lock --dpms -c 000000' & #lock screen after 10 minutes

exec /usr/bin/i3 >> ~/.i3/i3.log 2>&1
