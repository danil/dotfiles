(my-after-init
  (my-add-auto-mode-to-patterns 'conf-mode
                                "/.gtkrc-2.0\\'"
                                "/\\.curlrc\\'"
                                "/\\.inputrc\\'"
                                "/\\.moc/keymap\\'"
                                "/\\.rvmrc\\'"
                                "/\\.screenrc\\'"
                                "/\\.tigrc\\'"
                                "/conkyrc_calendar\\'"
                                "/conkyrc_top\\'"
                                "/etc/fstab\\'"
                                "/hosts\\'"
                                "/locale.gen\\'"
                                "/share/applications/defaults\\.list\\'"
                                "/sudoers\\'"
                                "\\.cnf\\'"
                                "\\.features\\'" ;cucumber features
                                "\\.pkla\\'"
                                "\\.theme\\'")
  ;; Gentoo configs.
  (my-add-auto-mode-to-patterns 'conf-mode
                                "/etc/conf.d/"
                                "/etc/env.d/"
                                "/etc/portage/env/"
                                "/etc/portage/package\\.keywords\\'"
                                "/etc/portage/package\\.mask\\'"
                                "/etc/portage/package\\.unmask\\'"
                                "/etc/portage/package\\.use\\'"
                                "/etc/portage/profile/use\\.mask\\'"
                                "/portage/package\\.license\\'"
                                "var/lib/portage/world\\'")
  (my-add-auto-mode-to-patterns 'conf-xdefaults-mode "/\\.Xmodmap\\'")
  (my-hooks-with-truncate-lines 'conf-mode-hook))
